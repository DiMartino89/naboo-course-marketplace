<div class="col-sm-12">
    <div class="user-headline main">
        <div class="col-sm-9" style="font-size: 24px;">{{user.name}}</div>
        <div class="col-sm-3 edit-panel">
            <i *ngIf="currentUser._id == user._id" class="fa fa-pencil-square-o"></i>
        </div>
    </div>
    <div class="col-sm-6">
        <div style="position:relative;overflow:hidden;">
            <img [src]="user.titleImage ? '/uploads/' + user.titleImage : '/app/_assets/images/default-titleImage.png'"
                 style="width:100%;height:auto;"/>
            <a [routerLink]="['/users', user ? user._id : 0]" class="user">
                <img *ngIf="user" class="user-avatar"
                     [src]="user.avatar ? '/uploads/' + user.avatar : '/app/_assets/images/default-avatar.png'"/>
            </a>
        </div>
    </div>
    <div class="col-sm-6">
        <ul class="user-pictures">
            <li *ngFor="let picture of user.pictures">
                <img class="col-sm-3" (click)="openImageModal(picture)" [src]="'/uploads/' + picture"/>
            </li>
        </ul>
    </div>
</div>
<div class="col-sm-12">
    <div class="col-sm-6">
        <!--General Info-->
        <div class="user-headline">General Info</div>
        <div class="col-sm-12 user-info">
            <p class="description">{{user.description}}</p>
            <table class="ginfo-table">
                <tbody>
                <tr>
                    <td><p>Member since:</p></td>
                    <td><p>{{user.createdAt}}</p></td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="user-headline">Friends</div>
        <div class="col-sm-12 user-info">
            <ul>
                <li *ngFor="let friend of user.friends" class="col-sm-2">
                    <a [routerLink]="['/users', friend._id]">
                        <div>
                            <img class="friend-avatar"
                                 [src]="friend.avatar ? '/uploads/' + friend.avatar : '/app/_assets/images/default-avatar.png'"/>
                        </div>
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <div class="col-sm-6">
        <!--Courses-->
        <div class="user-headline">Courses ({{user.courses ? user.courses.length : 0}})</div>
        <div class="col-sm-12 user-info">
            <ul class="col-sm-12">
                <li *ngFor="let course of user.courses" class="col-sm-12">
                    <div class="col-sm-4">
                        <a [routerLink]="['/course', course._id]">
                            <div>
                                <img class="course-image"
                                     [src]="course.titleImage ? '/uploads/' + course.titleImage : '/app/_assets/images/default-titleImage.png'"/>
                            </div>
                        </a>
                    </div>
                    <div class="col-sm-4">
                        {{course.name}}
                    </div>
                    <div class="col-sm-4">
                        <div>
                            <app-review [rating]="course.rating"></app-review>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>

<div class="modal fade" id="image-modal" tabindex="-1" role="dialog" aria-labelledby="image__label" aria-hidden="true"
     (click)="closeImageModal()">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <img class="preview-image" src="{{image}}">
            </div>
        </div>
    </div>
</div>